<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="light dark">
  <meta name="theme-color" content="#f8fafc" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#1e293b" media="(prefers-color-scheme: dark)">
  <title>{{if .PackageName}}{{.PackageName}}{{if ne .TagName "cem-serve"}} - {{.TagName}}{{end}}{{else}}{{.DemoTitle}} - {{.TagName}}{{end}}</title>
  <link rel="icon" href="/__cem/logo.svg" type="image/svg+xml">
  <link rel="stylesheet" href="/__cem/pf-tokens.css">
  <link rel="stylesheet" href="/__cem/demo-chrome.css">
  <link rel="stylesheet" href="/__cem/pf-lightdom.css">
  {{if .ImportMap}}
  <script type="importmap">{{.ImportMap}}</script>
  {{end}}
  <!-- Modulepreload hints for all elements -->
  <link rel="modulepreload" href="/__cem/elements/cem-color-scheme-toggle/cem-color-scheme-toggle.js">
  <link rel="modulepreload" href="/__cem/elements/cem-connection-status/cem-connection-status.js">
  <link rel="modulepreload" href="/__cem/elements/cem-drawer/cem-drawer.js">
  <link rel="modulepreload" href="/__cem/elements/cem-manifest-browser/cem-manifest-browser.js">
  <link rel="modulepreload" href="/__cem/elements/cem-reconnection-content/cem-reconnection-content.js">
  <link rel="modulepreload" href="/__cem/elements/cem-serve-chrome/cem-serve-chrome.js">
  <link rel="modulepreload" href="/__cem/elements/cem-serve-demo/cem-serve-demo.js">
  <link rel="modulepreload" href="/__cem/elements/cem-serve-knob-group/cem-serve-knob-group.js">
  <link rel="modulepreload" href="/__cem/elements/cem-serve-knobs/cem-serve-knobs.js">
  <link rel="modulepreload" href="/__cem/elements/cem-transform-error-overlay/cem-transform-error-overlay.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-button/pf-v6-button.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-badge/pf-v6-badge.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-card/pf-v6-card.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-dropdown/pf-v6-dropdown.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-expandable-section/pf-v6-expandable-section.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-form-group/pf-v6-form-group.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-form-label/pf-v6-form-label.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-form/pf-v6-form.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-label/pf-v6-label.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-masthead/pf-v6-masthead.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-menu/pf-v6-menu.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-menu-item/pf-v6-menu-item.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-modal/pf-v6-modal.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-nav-group/pf-v6-nav-group.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-nav-item/pf-v6-nav-item.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-nav-link/pf-v6-nav-link.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-nav-list/pf-v6-nav-list.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-navigation/pf-v6-navigation.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-page-main/pf-v6-page-main.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-page-sidebar/pf-v6-page-sidebar.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-page/pf-v6-page.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-popover/pf-v6-popover.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-select/pf-v6-select.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-skip-to-content/pf-v6-skip-to-content.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-switch/pf-v6-switch.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-tab/pf-v6-tab.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-tabs/pf-v6-tabs.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-text-input-group/pf-v6-text-input-group.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-text-input/pf-v6-text-input.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-toggle-group-item/pf-v6-toggle-group-item.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-toggle-group/pf-v6-toggle-group.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-toolbar-group/pf-v6-toolbar-group.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-toolbar-item/pf-v6-toolbar-item.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-toolbar/pf-v6-toolbar.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-tree-item/pf-v6-tree-item.js">
  <link rel="modulepreload" href="/__cem/elements/pf-v6-tree-view/pf-v6-tree-view.js">
  <script type="module">
    // Only import cem-serve-chrome - it imports all other dependencies
    import '/__cem/elements/cem-serve-chrome/cem-serve-chrome.js';
  </script>
</head>
<body style="color-scheme: {{if eq .State.ColorScheme "light"}}light{{else if eq .State.ColorScheme "dark"}}dark{{else}}light dark{{end}}">
  <link rel="stylesheet" href="/__cem/pf-v6-c-description-list.css">
  <cem-serve-chrome role="none"
                    {{if .EnabledKnobs}}knobs="{{.EnabledKnobs}}"{{end}}
                    {{if .TagName}}primary-tag-name="{{.TagName}}"{{end}}
                    {{if .DemoTitle}}demo-title="{{.DemoTitle}}"{{end}}
                    {{if .PackageName}}package-name="{{.PackageName}}"{{end}}
                    {{if .CanonicalURL}}canonical-url="{{.CanonicalURL}}"{{end}}
                    {{if .SourceURL}}source-url="{{.SourceURL}}"{{end}}
                    drawer="{{if .State.Drawer.Open}}expanded{{else}}collapsed{{end}}"
                    drawer-height="{{.State.Drawer.Height}}"
                    tabs-selected="{{.State.Tabs.SelectedIndex}}"
                    sidebar="{{if .State.Sidebar.Collapsed}}collapsed{{else}}expanded{{end}}">
    {{if .Description}}
    <section slot="description">
      {{.Description}}
    </section>
    {{end}}

    {{if .NavigationHTML}}
    {{.NavigationHTML}}
    {{end}}

    <!-- Demo rendering: light DOM (default), shadow DOM, or iframe -->
    {{if eq .RenderingMode "shadow"}}
    <cem-serve-demo id="demo">
      <template shadowrootmode="open">{{.DemoHTML}}</template>
    </cem-serve-demo>
    {{else if eq .RenderingMode "iframe"}}
    <!-- iframe mode not yet implemented, this should not be reached -->
    <cem-serve-demo id="demo">
      <p>Error: iframe rendering mode is not yet implemented.</p>
    </cem-serve-demo>
    {{else}}
    <cem-serve-demo id="demo">{{.DemoHTML}}</cem-serve-demo>
    {{end}}

    {{if .KnobsHTML}}
    {{.KnobsHTML}}
    {{end}}

    {{/* Manifest tree and details are now rendered client-side by cem-virtual-tree and cem-detail-panel */}}
    {{if .ManifestJSON}}
    {{/* Virtual tree and detail panel will read from window.__CEM_MANIFEST__ */}}
    {{end}}
  </cem-serve-chrome>
</body>
</html>
