:host {
  display: contents;
}

/* Negative margin to overlap borders between adjacent items */
:host(:not(:first-child)) #button {
  margin-inline-start: var(--pf-v6-c-toggle-group__item--item--MarginInlineStart);
}

#button {
  position: relative;
  z-index: var(--pf-v6-c-toggle-group__button--ZIndex);
  display: inline-flex;
  align-items: center;
  padding-block-start: var(--pf-v6-c-toggle-group__button--PaddingBlockStart);
  padding-block-end: var(--pf-v6-c-toggle-group__button--PaddingBlockEnd);
  padding-inline-start: var(--pf-v6-c-toggle-group__button--PaddingInlineStart);
  padding-inline-end: var(--pf-v6-c-toggle-group__button--PaddingInlineEnd);
  font-size: var(--pf-v6-c-toggle-group__button--FontSize);
  line-height: var(--pf-v6-c-toggle-group__button--LineHeight);
  color: var(--pf-v6-c-toggle-group__button--Color);
  background-color: var(--pf-v6-c-toggle-group__button--BackgroundColor);
  border: 0;
  cursor: pointer;
  user-select: none;
}

/* Border pseudo-elements */
#button::before,
#button::after {
  position: absolute;
  inset: 0;
  pointer-events: none;
  content: "";
  border-style: solid;
  border-radius: inherit;
}

#button::before {
  border-width: var(--pf-v6-c-toggle-group__button--before--BorderWidth);
  border-block-start-color: var(--pf-v6-c-toggle-group__button--before--BorderBlockStartColor, var(--pf-v6-c-toggle-group__button--before--BorderColor));
  border-block-end-color: var(--pf-v6-c-toggle-group__button--before--BorderBlockEndColor, var(--pf-v6-c-toggle-group__button--before--BorderColor));
  border-inline-start-color: var(--pf-v6-c-toggle-group__button--before--BorderInlineStartColor, var(--pf-v6-c-toggle-group__button--before--BorderColor));
  border-inline-end-color: var(--pf-v6-c-toggle-group__button--before--BorderInlineEndColor, var(--pf-v6-c-toggle-group__button--before--BorderColor));
}

#button::after {
  inset: var(--pf-v6-c-toggle-group__button--before--BorderWidth);
  border-color: var(--pf-v6-c-toggle-group__button--after--BorderColor);
  border-width: var(--pf-v6-c-toggle-group__button--after--BorderWidth);
}

/* Hover state */
#button:hover:not(:disabled) {
  --pf-v6-c-toggle-group__button--BackgroundColor: var(--pf-v6-c-toggle-group__button--hover--BackgroundColor);
  --pf-v6-c-toggle-group__button--ZIndex: var(--pf-v6-c-toggle-group__button--hover--ZIndex);
  --pf-v6-c-toggle-group__button--before--BorderColor: var(--pf-v6-c-toggle-group__button--hover--before--BorderColor);
  --pf-v6-c-toggle-group__button--after--BorderWidth: var(--pf-v6-c-toggle-group__button--hover--after--BorderWidth);
}

/* Selected state */
:host([selected]) #button {
  --pf-v6-c-toggle-group__button--BackgroundColor: var(--pf-v6-c-toggle-group__button--m-selected--BackgroundColor);
  --pf-v6-c-toggle-group__button--Color: var(--pf-v6-c-toggle-group__button--m-selected--Color);
  --pf-v6-c-toggle-group__button--before--BorderColor: var(--pf-v6-c-toggle-group__button--m-selected--before--BorderColor);
  --pf-v6-c-toggle-group__button--ZIndex: var(--pf-v6-c-toggle-group__button--m-selected--ZIndex);
  --pf-v6-c-toggle-group__button--after--BorderWidth: var(--pf-v6-c-toggle-group__button--m-selected--after--BorderWidth);
}

/* Adjacent selected items - special border handling */
:host([selected]) + :host([selected]) #button {
  --pf-v6-c-toggle-group__button--before--BorderInlineStartColor: var(--pf-v6-c-toggle-group__button--m-selected-selected--before--BorderInlineStartColor);
}

/* Disabled state */
:host([disabled]) #button {
  --pf-v6-c-toggle-group__button--BackgroundColor: var(--pf-v6-c-toggle-group__button--disabled--BackgroundColor);
  --pf-v6-c-toggle-group__button--Color: var(--pf-v6-c-toggle-group__button--disabled--Color);
  --pf-v6-c-toggle-group__button--before--BorderColor: var(--pf-v6-c-toggle-group__button--disabled--before--BorderColor);
  --pf-v6-c-toggle-group__button--ZIndex: var(--pf-v6-c-toggle-group__button--disabled--ZIndex);

  cursor: not-allowed;
  pointer-events: none;
}

/* Adjacent disabled items - special border handling */
:host([disabled]) + :host([disabled]) #button {
  --pf-v6-c-toggle-group__button--before--BorderInlineStartColor: var(--pf-v6-c-toggle-group__button--disabled-disabled--before--BorderInlineStartColor);
}

/* First child border radius */
:host(:first-child) #button {
  border-start-start-radius: var(--pf-v6-c-toggle-group__item--first-child__button--BorderStartStartRadius);
  border-end-start-radius: var(--pf-v6-c-toggle-group__item--first-child__button--BorderEndStartRadius);
}

/* Last child border radius */
:host(:last-child) #button {
  border-start-end-radius: var(--pf-v6-c-toggle-group__item--last-child__button--BorderStartEndRadius);
  border-end-end-radius: var(--pf-v6-c-toggle-group__item--last-child__button--BorderEndEndRadius);
}

/* Icon spacing - adjacent combinator works because hidden elements are removed from layout */
#icon-start:not([hidden]) + #text:not([hidden]) {
  margin-inline-start: var(--pf-v6-c-toggle-group__icon--text--MarginInlineStart);
}

#text:not([hidden]) + #icon-end:not([hidden]) {
  margin-inline-start: var(--pf-v6-c-toggle-group__text--icon--MarginInlineStart);
}

/* Icon sizing */
::slotted([slot="icon"]),
::slotted([slot="icon-end"]) {
  width: 1em;
  height: 1em;
  vertical-align: -0.125em;
  fill: currentColor;
}
