{{if .}}
<cem-serve-knobs slot="knobs">
  {{range $index, $group := .}}
  <pf-v6-card class="knobs-panel" compact data-panel="instance-{{$index}}" data-label="{{$group.Label}}" data-tag-name="{{$group.TagName}}" data-instance-index="{{$group.InstanceIndex}}" {{if eq $index 0}}active{{end}}>
    <h3 slot="title">
      <span class="instance-tag">{{$group.TagName}}</span>: <span class="instance-label">{{$group.Label}}</span>
    </h3>
    {{with $group.Knobs}}
      {{if .AttributeKnobs}}
      <section class="knob-group">
        <h4 class="knob-group-title">Attributes</h4>
        {{range .AttributeKnobs}}
        <cem-serve-knob-attribute name="{{.Name}}"
                                  type="{{.Type}}"
                                  value="{{.CurrentValue}}"
                                  {{if .Default}}default="{{.Default}}"{{end}}
                                  {{if .EnumValues}}enum-values="{{join .EnumValues ","}}"{{end}}>
          {{if .Description}}
          <div slot="description">{{.Description}}</div>
          {{end}}
        </cem-serve-knob-attribute>
        {{end}}
      </section>
      {{end}}

      {{if .PropertyKnobs}}
      <section class="knob-group">
        <h4 class="knob-group-title">Properties</h4>
        {{range .PropertyKnobs}}
        <cem-serve-knob-property name="{{.Name}}"
                                 type="{{.Type}}"
                                 value="{{.CurrentValue}}"
                                 {{if .Default}}default="{{.Default}}"{{end}}>
          {{if .Description}}
          <div slot="description">{{.Description}}</div>
          {{end}}
        </cem-serve-knob-property>
        {{end}}
      </section>
      {{end}}

      {{if .CSSPropertyKnobs}}
      <section class="knob-group">
        <h4 class="knob-group-title">CSS Custom Properties</h4>
        {{range .CSSPropertyKnobs}}
        <cem-serve-knob-css-property name="{{.Name}}"
                                     type="{{.Type}}"
                                     value="{{.CurrentValue}}"
                                     {{if .Default}}default="{{.Default}}"{{end}}>
          {{if .Description}}
          <div slot="description">{{.Description}}</div>
          {{end}}
        </cem-serve-knob-css-property>
        {{end}}
      </section>
      {{end}}
    {{end}}
  </pf-v6-card>
  {{end}}
</cem-serve-knobs>
{{else}}
<p slot="knobs" class="knobs-empty">No knobs available</p>
{{end}}
